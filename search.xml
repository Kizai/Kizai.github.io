<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>AndroidSQlite</title>
      <link href="/2021/11/12/AndroidSQlite/"/>
      <url>/2021/11/12/AndroidSQlite/</url>
      
        <content type="html"><![CDATA[<h2 id="安卓通过SQLlite实现登录注册功能"><a href="#安卓通过SQLlite实现登录注册功能" class="headerlink" title="安卓通过SQLlite实现登录注册功能"></a>安卓通过SQLlite实现登录注册功能</h2><h2 id="前面基本操作看图片"><a href="#前面基本操作看图片" class="headerlink" title="前面基本操作看图片"></a>前面基本操作看图片</h2><p><img src="https://img-blog.csdnimg.cn/20201021182507420.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182609963.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182616305.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182627235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182649612.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182703541.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182710912.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182800135.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021182942674.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183025193.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183034322.png#pic_center" alt="在这里插入图片描述"></p><h2 id="第一个xml文件是：round-bg-xml，后面界面布局要用到"><a href="#第一个xml文件是：round-bg-xml，后面界面布局要用到" class="headerlink" title="第一个xml文件是：round_bg.xml，后面界面布局要用到"></a>第一个xml文件是：round_bg.xml，后面界面布局要用到</h2><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;shape xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span><br><span class="line">    &lt;solid android:color=<span class="string">"@color/colorPrimary"</span>/&gt;</span><br><span class="line">    &lt;corners android:radius=<span class="string">"100dp"</span>/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></tbody></table></figure><p><img src="https://img-blog.csdnimg.cn/20201021183400381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="第二个xml文件是：round-border-xml"><a href="#第二个xml文件是：round-border-xml" class="headerlink" title="第二个xml文件是：round_border.xml"></a>第二个xml文件是：round_border.xml</h2><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;shape xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span><br><span class="line">    &lt;stroke android:color=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        android:width=<span class="string">"1dp"</span>/&gt;</span><br><span class="line">    &lt;corners android:radius=<span class="string">"100dp"</span>/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="修改下系统颜色"><a href="#修改下系统颜色" class="headerlink" title="修改下系统颜色"></a>修改下系统颜色</h2><p><img src="https://img-blog.csdnimg.cn/20201021183555527.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>改为：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;resources&gt;</span><br><span class="line">    &lt;color name=<span class="string">"colorPrimary"</span>&gt;<span class="comment">#0099ff&lt;/color&gt;</span></span><br><span class="line">    &lt;color name=<span class="string">"colorPrimaryDark"</span>&gt;<span class="comment">#0099ff&lt;/color&gt;</span></span><br><span class="line">    &lt;color name=<span class="string">"colorAccent"</span>&gt;<span class="comment">#03DAC5&lt;/color&gt;</span></span><br><span class="line">&lt;/resources&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>现在开始添加图标：<br><img src="https://img-blog.csdnimg.cn/20201021183718831.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183820598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183827373.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183836313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183842520.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="其他的图标如下图，命名方法看个人习惯"><a href="#其他的图标如下图，命名方法看个人习惯" class="headerlink" title="其他的图标如下图，命名方法看个人习惯"></a>其他的图标如下图，命名方法看个人习惯</h2><p><img src="https://img-blog.csdnimg.cn/20201021183923788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183928589.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><img src="https://img-blog.csdnimg.cn/20201021183952130.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021183959328.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>可以参考我的命名方法，不要改太多就行。<br><img src="https://img-blog.csdnimg.cn/20201021184059823.png#pic_center" alt="在这里插入图片描述"></p><h2 id="开始登录界面的布局：打开activity-login-xml"><a href="#开始登录界面的布局：打开activity-login-xml" class="headerlink" title="开始登录界面的布局：打开activity_login.xml"></a>开始登录界面的布局：打开activity_login.xml</h2><p><img src="https://img-blog.csdnimg.cn/20201021184345762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".LoginActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.5"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline2"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.35"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline3"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.45"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline4"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.55"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline5"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.65"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline6"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.75"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=<span class="string">"@+id/tv_loginview"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"@string/logint"</span></span><br><span class="line">        android:textSize=<span class="string">"45sp"</span></span><br><span class="line">        android:textColor=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline2"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.129"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.494"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_User"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">"user"</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_user"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/etUser_hint"</span></span><br><span class="line">        android:inputType=<span class="string">"textEmailAddress"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline3"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        tools:ignore=<span class="string">"LabelFor"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline2"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_Psw"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_lock"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/pswHint"</span></span><br><span class="line">        android:inputType=<span class="string">"textPassword"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline4"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.508"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline3"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.47"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;CheckBox</span><br><span class="line">        android:id=<span class="string">"@+id/cb_rmbPsw"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:checked=<span class="string">"true"</span></span><br><span class="line">        android:drawingCacheQuality=<span class="string">"auto"</span></span><br><span class="line">        android:shadowColor=<span class="string">"@color/colorPrimaryDark"</span></span><br><span class="line">        android:text=<span class="string">"@string/rempsw"</span></span><br><span class="line">        android:textColor=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        android:textColorHighlight=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        android:textColorLink=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline5"</span></span><br><span class="line">        app:layout_constraintEnd_toStartOf=<span class="string">"@+id/guideline"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline4"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">"@+id/btn_Login"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_bg"</span></span><br><span class="line">        android:text=<span class="string">"@string/logintxt"</span></span><br><span class="line">        android:textColor=<span class="string">"#FDFAFA"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline6"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.498"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline5"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.538"</span>  /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=<span class="string">"@+id/tv_Register"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"@string/yhzc"</span></span><br><span class="line">        android:textColor=<span class="string">"@color/colorPrimary"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline5"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"@+id/guideline"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline4"</span> /&gt;</span><br><span class="line">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="注册界面的布局：打开activity-registered-xml"><a href="#注册界面的布局：打开activity-registered-xml" class="headerlink" title="注册界面的布局：打开activity_registered.xml"></a>注册界面的布局：打开activity_registered.xml</h2><p><img src="https://img-blog.csdnimg.cn/20201021184532248.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".RegisteredActivity"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline7"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"vertical"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.5"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline8"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.15"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline9"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.25"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline10"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.35"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline11"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.45"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline12"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.55"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline13"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.65"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.Guideline</span><br><span class="line">        android:id=<span class="string">"@+id/guideline14"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:orientation=<span class="string">"horizontal"</span></span><br><span class="line">        app:layout_constraintGuide_percent=<span class="string">"0.75"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id=<span class="string">"@+id/iv_back"</span></span><br><span class="line">        android:layout_width=<span class="string">"50dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"50dp"</span></span><br><span class="line">        android:layout_marginTop=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline8"</span></span><br><span class="line">        app:layout_constraintEnd_toStartOf=<span class="string">"@+id/guideline7"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.262"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.477"</span></span><br><span class="line">        app:srcCompat=<span class="string">"@drawable/ic_back"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_rgsName"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_user"</span></span><br><span class="line">        android:drawableEnd=<span class="string">"@drawable/ic_start"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/plsu"</span></span><br><span class="line">        android:inputType=<span class="string">"textPersonName"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline9"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline8"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_rgsEmail"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_email"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/plsemail"</span></span><br><span class="line">        android:inputType=<span class="string">"textPersonName"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline10"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline9"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_rgsPhoneNum"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_phone"</span></span><br><span class="line">        android:drawableEnd=<span class="string">"@drawable/ic_start"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/plsohone"</span></span><br><span class="line">        android:inputType=<span class="string">"textPersonName"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline11"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline10"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_rgsPsw1"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_lock"</span></span><br><span class="line">        android:drawableEnd=<span class="string">"@drawable/ic_start"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/plspsw"</span></span><br><span class="line">        android:inputType=<span class="string">"textPersonName"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline12"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline11"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/et_rgsPsw2"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:autofillHints=<span class="string">""</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_border"</span></span><br><span class="line">        android:drawableStart=<span class="string">"@drawable/ic_lock"</span></span><br><span class="line">        android:drawableEnd=<span class="string">"@drawable/ic_start"</span></span><br><span class="line">        android:drawablePadding=<span class="string">"16dp"</span></span><br><span class="line">        android:ems=<span class="string">"10"</span></span><br><span class="line">        android:hint=<span class="string">"@string/plspsw"</span></span><br><span class="line">        android:inputType=<span class="string">"textPersonName"</span></span><br><span class="line">        android:padding=<span class="string">"16dp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline13"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline12"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">"@+id/btn_rgs"</span></span><br><span class="line">        android:layout_width=<span class="string">"350dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:background=<span class="string">"@drawable/round_bg"</span></span><br><span class="line">        android:text=<span class="string">"@string/reg"</span></span><br><span class="line">        android:textColor=<span class="string">"#FFFFFF"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        app:layout_constraintBottom_toTopOf=<span class="string">"@+id/guideline14"</span></span><br><span class="line">        app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintHorizontal_bias=<span class="string">"0.491"</span></span><br><span class="line">        app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">        app:layout_constraintTop_toTopOf=<span class="string">"@+id/guideline13"</span></span><br><span class="line">        app:layout_constraintVertical_bias=<span class="string">"0.692"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></tbody></table></figure><h2 id="界面布局完成，开始来正事。"><a href="#界面布局完成，开始来正事。" class="headerlink" title="界面布局完成，开始来正事。"></a>界面布局完成，开始来正事。</h2><h4 id="新建两个工具类"><a href="#新建两个工具类" class="headerlink" title="新建两个工具类"></a>新建两个工具类</h4><p><img src="https://img-blog.csdnimg.cn/20201021184903507.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021185039368.png#pic_center" alt="在这里插入图片描述"></p><h4 id="按确定就能添加：打开DBOpenHelper-class-不懂看注释！"><a href="#按确定就能添加：打开DBOpenHelper-class-不懂看注释！" class="headerlink" title="按确定就能添加：打开DBOpenHelper.class,不懂看注释！"></a>按确定就能添加：打开DBOpenHelper.class,不懂看注释！</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">package com.kizai.com.login;</span><br><span class="line"></span><br><span class="line">import android.annotation.SuppressLint;</span><br><span class="line">import android.content.Context;</span><br><span class="line">import android.database.Cursor;</span><br><span class="line">import android.database.sqlite.SQLiteDatabase;</span><br><span class="line">import android.database.sqlite.SQLiteOpenHelper;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line"></span><br><span class="line">public class DBOpenHelper extends SQLiteOpenHelper {</span><br><span class="line">    /**</span><br><span class="line">     * 声明一个AndroidSDK自带的数据库变量db</span><br><span class="line">     */</span><br><span class="line">    private SQLiteDatabase db;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 写一个这个类的构造函数，参数为上下文context，所谓上下文就是这个类所在包的路径</span><br><span class="line">     * 指明上下文，数据库名，工厂默认空值，版本号默认从1开始</span><br><span class="line">     * super(context,<span class="string">"db_test"</span>,null,1);</span><br><span class="line">     * 把数据库设置成可写入状态，除非内存已满，那时候会自动设置为只读模式</span><br><span class="line">     * 不过，以现如今的内存容量，估计一辈子也见不到几次内存占满的状态</span><br><span class="line">     * db = getReadableDatabase();</span><br><span class="line">     */</span><br><span class="line">    DBOpenHelper(Context context){</span><br><span class="line">        super(context,<span class="string">"db_test"</span>,null,1);</span><br><span class="line">        db = getReadableDatabase();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 重写两个必须要重写的方法，因为class DBOpenHelper extends SQLiteOpenHelper</span><br><span class="line">     * 而这两个方法是 abstract 类 SQLiteOpenHelper 中声明的 abstract 方法</span><br><span class="line">     * 所以必须在子类 DBOpenHelper 中重写 abstract 方法</span><br><span class="line">     * 想想也是，为啥规定这么死必须重写？</span><br><span class="line">     * 因为，一个数据库表，首先是要被创建的，然后免不了是要进行增删改操作的</span><br><span class="line">     * 所以就有onCreate()、onUpgrade()两个方法</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public void onCreate(SQLiteDatabase db){</span><br><span class="line">        db.execSQL(<span class="string">"CREATE TABLE IF NOT EXISTS user("</span> +</span><br><span class="line">                <span class="string">"_id INTEGER PRIMARY KEY AUTOINCREMENT,"</span> +</span><br><span class="line">                <span class="string">"name TEXT,"</span> +</span><br><span class="line">                <span class="string">"password TEXT,"</span> +</span><br><span class="line">                <span class="string">"email TEXT,"</span> +</span><br><span class="line">                <span class="string">"phonenum TEXT)"</span></span><br><span class="line">        );</span><br><span class="line">    }</span><br><span class="line">    //版本适应</span><br><span class="line">    @Override</span><br><span class="line">    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion){</span><br><span class="line">        db.execSQL(<span class="string">"DROP TABLE IF EXISTS user"</span>);</span><br><span class="line">        onCreate(db);</span><br><span class="line">    }</span><br><span class="line">    /**</span><br><span class="line">     * 接下来写自定义的增删改查方法</span><br><span class="line">     * 这些方法，写在这里归写在这里，以后不一定都用</span><br><span class="line">     * add()</span><br><span class="line">     * delete()</span><br><span class="line">     * update()</span><br><span class="line">     * getAllData()</span><br><span class="line">     */</span><br><span class="line">    void add(String name, String password,String email,String phonenum){</span><br><span class="line">        db.execSQL(<span class="string">"INSERT INTO user (name,password,email,phonenum) VALUES(?,?,?,?)"</span>,new Object[]{name,password,email,phonenum});</span><br><span class="line">    }</span><br><span class="line">    public void delete(String name,String password){</span><br><span class="line">        db.execSQL(<span class="string">"DELETE FROM user WHERE name = AND password ="</span>+name+password);</span><br><span class="line">    }</span><br><span class="line">    public void updata(String password){</span><br><span class="line">        db.execSQL(<span class="string">"UPDATE user SET password = ?"</span>,new Object[]{password});</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 前三个没啥说的，都是一套的看懂一个其他的都能懂了</span><br><span class="line">     * 下面重点说一下查询表user全部内容的方法</span><br><span class="line">     * 我们查询出来的内容，需要有个容器存放，以供使用，</span><br><span class="line">     * 所以定义了一个ArrayList类的list</span><br><span class="line">     * 有了容器，接下来就该从表中查询数据了，</span><br><span class="line">     * 这里使用游标Cursor，这就是数据库的功底了，</span><br><span class="line">     * 在Android中我就不细说了，因为我数据库功底也不是很厚，</span><br><span class="line">     * 但我知道，如果需要用Cursor的话，第一个参数：<span class="string">"表名"</span>，中间5个：null，</span><br><span class="line">     *                                                     最后是查询出来内容的排序方式：<span class="string">"name DESC"</span></span><br><span class="line">     * 游标定义好了，接下来写一个<span class="keyword">while</span>循环，让游标从表头游到表尾</span><br><span class="line">     * 在游的过程中把游出来的数据存放到list容器中</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    ArrayList&lt;User&gt; <span class="function"><span class="title">getAllData</span></span>(){</span><br><span class="line">        ArrayList&lt;User&gt; list = new ArrayList&lt;User&gt;();</span><br><span class="line">        @SuppressLint(<span class="string">"Recycle"</span>) Cursor cursor = db.query(<span class="string">"user"</span>,null,null,null,null,null,<span class="string">"name DESC"</span>);</span><br><span class="line">        <span class="keyword">while</span>(cursor.moveToNext()){</span><br><span class="line">            String name = cursor.getString(cursor.getColumnIndex(<span class="string">"name"</span>));</span><br><span class="line">            String email = cursor.getString(cursor.getColumnIndex(<span class="string">"email"</span>));</span><br><span class="line">            String phonenum = cursor.getString(cursor.getColumnIndex(<span class="string">"phonenum"</span>));</span><br><span class="line">            String password = cursor.getString(cursor.getColumnIndex(<span class="string">"password"</span>));</span><br><span class="line"></span><br><span class="line">            list.add(new User(name,password,email,phonenum));</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">return</span> list;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h4 id="再添加一个用户类：User-class"><a href="#再添加一个用户类：User-class" class="headerlink" title="再添加一个用户类：User.class"></a>再添加一个用户类：User.class</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">package com.kizai.com.login;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by kizai 2020/05/19</span><br><span class="line"> */</span><br><span class="line">public class User {</span><br><span class="line">    private String name;            //用户名</span><br><span class="line">    private String password;        //密码</span><br><span class="line">    private String email;        //邮箱</span><br><span class="line">    private String phonenum;        //手机号码</span><br><span class="line"></span><br><span class="line">    User(String name, String password, String email, String phonenum) {</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.password = password;</span><br><span class="line">        this.email = email;</span><br><span class="line">        this.phonenum = phonenum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getEmail</span></span>() {</span><br><span class="line">        <span class="built_in">return</span> email;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setEmail(String email) {</span><br><span class="line">        this.email = email;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getPhonenum</span></span>() {</span><br><span class="line">        <span class="built_in">return</span> phonenum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setPhonenum(String phonenum) {</span><br><span class="line">        this.phonenum = phonenum;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getName</span></span>() {</span><br><span class="line">        <span class="built_in">return</span> name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setName(String name) {</span><br><span class="line">        this.name = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public String <span class="function"><span class="title">getPassword</span></span>() {</span><br><span class="line">        <span class="built_in">return</span> password;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    public void setPassword(String password) {</span><br><span class="line">        this.password = password;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String <span class="function"><span class="title">toString</span></span>() {</span><br><span class="line">        <span class="built_in">return</span> <span class="string">"User{"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\'</span><span class="string">' +</span></span><br><span class="line"><span class="string">                ", password='</span><span class="string">" + password + '\'' +</span></span><br><span class="line"><span class="string">                "</span>, email=<span class="string">'" + email + '</span>\<span class="string">''</span> +</span><br><span class="line">                <span class="string">", phonenum='"</span> + phonenum + <span class="string">'\'</span><span class="string">' +</span></span><br><span class="line"><span class="string">                '</span>}<span class="string">';</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></tbody></table></figure><h4 id="打开LoginActivity，里面有注释，希望能看懂"><a href="#打开LoginActivity，里面有注释，希望能看懂" class="headerlink" title="打开LoginActivity，里面有注释，希望能看懂"></a>打开LoginActivity，里面有注释，希望能看懂</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">package com.kizai.com.login;</span><br><span class="line"></span><br><span class="line">import androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line">import android.annotation.SuppressLint;</span><br><span class="line">import android.content.Intent;</span><br><span class="line">import android.content.SharedPreferences;</span><br><span class="line">import android.content.pm.ActivityInfo;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.text.TextUtils;</span><br><span class="line">import android.text.method.HideReturnsTransformationMethod;</span><br><span class="line">import android.text.method.PasswordTransformationMethod;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.view.WindowManager;</span><br><span class="line">import android.widget.Button;</span><br><span class="line">import android.widget.CheckBox;</span><br><span class="line">import android.widget.EditText;</span><br><span class="line">import android.widget.ImageView;</span><br><span class="line">import android.widget.TextView;</span><br><span class="line">import android.widget.Toast;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Objects;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 此类 implements View.OnClickListener 之后，</span><br><span class="line"> * 就可以把onClick事件写到onCreate()方法之外</span><br><span class="line"> * 这样，onCreate()方法中的代码就不会显得很冗余</span><br><span class="line"> */</span><br><span class="line">public class LoginActivity extends AppCompatActivity implements View.OnClickListener {</span><br><span class="line">    private DBOpenHelper mDBOpenHelper;</span><br><span class="line">    private EditText et_User, et_Psw;</span><br><span class="line">    private CheckBox cb_rmbPsw;</span><br><span class="line">    private String userName;</span><br><span class="line">    private SharedPreferences.Editor editor;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 创建 Activity 时先来重写 onCreate() 方法</span><br><span class="line">     * 保存实例状态</span><br><span class="line">     * super.onCreate(savedInstanceState);</span><br><span class="line">     * 设置视图内容的配置文件</span><br><span class="line">     * setContentView(R.layout.activity_login);</span><br><span class="line">     * 上面这行代码真正实现了把视图层 View 也就是 layout 的内容放到 Activity 中进行显示</span><br><span class="line">     * 初始化视图中的控件对象 initView()</span><br><span class="line">     * 实例化 DBOpenHelper，待会进行登录验证的时候要用来进行数据查询</span><br><span class="line">     * mDBOpenHelper = new DBOpenHelper(this);</span><br><span class="line">     */</span><br><span class="line"></span><br><span class="line">    @SuppressLint(<span class="string">"CommitPrefEdits"</span>)</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) {</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);//隐藏状态栏</span><br><span class="line">        Objects.requireNonNull(getSupportActionBar()).hide();//隐藏标题栏</span><br><span class="line">        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR);//禁止横屏</span><br><span class="line">        setContentView(R.layout.activity_login);</span><br><span class="line"></span><br><span class="line">        initView();//初始化界面</span><br><span class="line">        mDBOpenHelper = new DBOpenHelper(this);</span><br><span class="line"></span><br><span class="line">        SharedPreferences sp = getSharedPreferences(<span class="string">"user_mes"</span>, MODE_PRIVATE);</span><br><span class="line">        editor = sp.edit();</span><br><span class="line">        <span class="keyword">if</span>(sp.getBoolean(<span class="string">"flag"</span>,<span class="literal">false</span>)){</span><br><span class="line">            String user_read = sp.getString(<span class="string">"user"</span>,<span class="string">""</span>);</span><br><span class="line">            String psw_read = sp.getString(<span class="string">"psw"</span>,<span class="string">""</span>);</span><br><span class="line">            et_User.setText(user_read);</span><br><span class="line">            et_Psw.setText(psw_read);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private void <span class="function"><span class="title">initView</span></span>() {</span><br><span class="line">        //初始化控件</span><br><span class="line">        et_User = findViewById(R.id.et_User);</span><br><span class="line">        et_Psw = findViewById(R.id.et_Psw);</span><br><span class="line">        cb_rmbPsw = findViewById(R.id.cb_rmbPsw);</span><br><span class="line">        Button btn_Login = findViewById(R.id.btn_Login);</span><br><span class="line">        TextView tv_register = findViewById(R.id.tv_Register);</span><br><span class="line">        //设置点击事件监听器</span><br><span class="line">        btn_Login.setOnClickListener(this);</span><br><span class="line">        tv_register.setOnClickListener(this);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onClick(View v) {</span><br><span class="line">        switch (v.getId()){</span><br><span class="line">            <span class="keyword">case</span> R.id.tv_Register: //注册</span><br><span class="line">                Intent intent = new Intent(LoginActivity.this, RegisteredActivity.class);//跳转到注册界面</span><br><span class="line">                startActivity(intent);</span><br><span class="line">                finish();</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            /**</span><br><span class="line">             * 登录验证：</span><br><span class="line">             *</span><br><span class="line">             * 从EditText的对象上获取文本编辑框输入的数据，并把左右两边的空格去掉</span><br><span class="line">             *  String name = mEtLoginactivityUsername.getText().toString().trim();</span><br><span class="line">             *  String password = mEtLoginactivityPassword.getText().toString().trim();</span><br><span class="line">             *  进行匹配验证,先判断一下用户名密码是否为空，</span><br><span class="line">             *  <span class="keyword">if</span> (!TextUtils.isEmpty(name) &amp;&amp; !TextUtils.isEmpty(password))</span><br><span class="line">             *  再进而<span class="keyword">for</span>循环判断是否与数据库中的数据相匹配</span><br><span class="line">             *  <span class="keyword">if</span> (name.equals(user.getName()) &amp;&amp; password.equals(user.getPassword()))</span><br><span class="line">             *  一旦匹配，立即将match = <span class="literal">true</span>；<span class="built_in">break</span>；</span><br><span class="line">             *  否则 一直匹配到结束 match = <span class="literal">false</span>；</span><br><span class="line">             *</span><br><span class="line">             *  登录成功之后，进行页面跳转：</span><br><span class="line">             *</span><br><span class="line">             *  Intent intent = new Intent(this, MainActivity.class);</span><br><span class="line">             *  startActivity(intent);</span><br><span class="line">             *  finish();//销毁此Activity</span><br><span class="line">             */</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_Login:</span><br><span class="line">                String name = et_User.getText().toString().trim();</span><br><span class="line">                String password = et_Psw.getText().toString().trim();</span><br><span class="line">                <span class="keyword">if</span> (!TextUtils.isEmpty(name) &amp;&amp; !TextUtils.isEmpty(password)) {</span><br><span class="line">                    ArrayList&lt;User&gt; data = mDBOpenHelper.getAllData();</span><br><span class="line">                    boolean match = <span class="literal">false</span>;</span><br><span class="line">                    boolean match2 = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">for</span> (int i = 0; i &lt; data.size(); i++) {</span><br><span class="line">                        User user = data.get(i);</span><br><span class="line">                        <span class="keyword">if</span> ((name.equals(user.getName()) &amp;&amp; password.equals(user.getPassword()))||</span><br><span class="line">                                (name.equals(user.getEmail())&amp;&amp;password.equals(user.getPassword()))||</span><br><span class="line">                                (name.equals(user.getPhonenum())&amp;&amp;password.equals(user.getPassword()))) {</span><br><span class="line">                            userName = user.getName();</span><br><span class="line">                            match = <span class="literal">true</span>;</span><br><span class="line">                            <span class="keyword">if</span>(cb_rmbPsw.isChecked()){</span><br><span class="line">                                editor.putBoolean(<span class="string">"flag"</span>,<span class="literal">true</span>);</span><br><span class="line">                                editor.putString(<span class="string">"user"</span>,user.getName());</span><br><span class="line">                                editor.putString(<span class="string">"psw"</span>,user.getPassword());</span><br><span class="line">                                editor.apply();</span><br><span class="line">                                match2 = <span class="literal">true</span>;</span><br><span class="line">                            }<span class="keyword">else</span> {</span><br><span class="line">                                editor.putString(<span class="string">"user"</span>,user.getName());</span><br><span class="line">                                editor.putString(<span class="string">"psw"</span>,<span class="string">""</span>);</span><br><span class="line">//                                editor.clear();</span><br><span class="line">                                editor.apply();</span><br><span class="line">                                match2 = <span class="literal">false</span>;</span><br><span class="line">                            }</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                        } <span class="keyword">else</span> {</span><br><span class="line">                            match = <span class="literal">false</span>;</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                    <span class="keyword">if</span> (match) {</span><br><span class="line">                        <span class="keyword">if</span>(match2){</span><br><span class="line">                            Toast.makeText(this, <span class="string">"成功记住密码"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                            cb_rmbPsw.setChecked(<span class="literal">true</span>);</span><br><span class="line">                        }</span><br><span class="line">                        Toast.makeText(this, <span class="string">"登录成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                        Runnable target;</span><br><span class="line">                        //用线程启动</span><br><span class="line">                        Thread thread = new <span class="function"><span class="title">Thread</span></span>(){</span><br><span class="line">                            @Override</span><br><span class="line">                            public void <span class="function"><span class="title">run</span></span>(){</span><br><span class="line">                                try {</span><br><span class="line">                                    sleep(2000);//2秒 模拟登录时间</span><br><span class="line">                                    String user_name = userName;</span><br><span class="line">                                    Intent intent1 = new Intent(LoginActivity.this, MainActivity.class);//设置自己跳转到成功的界面</span><br><span class="line">                                    </span><br><span class="line">                                    //intent1.putExtra(<span class="string">"user_name"</span>,user_name);</span><br><span class="line">                                    startActivity(intent1);</span><br><span class="line">                                    finish();</span><br><span class="line">                                }catch (Exception e){</span><br><span class="line">                                    e.printStackTrace();</span><br><span class="line">                                }</span><br><span class="line">                            }</span><br><span class="line">                        };</span><br><span class="line">                        thread.start();//打开线程</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        Toast.makeText(this, <span class="string">"用户名或密码不正确，请重新输入"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    }</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    Toast.makeText(this, <span class="string">"请输入你的用户名或密码"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="打开RegisteredActivity，里面一样有注释"><a href="#打开RegisteredActivity，里面一样有注释" class="headerlink" title="打开RegisteredActivity，里面一样有注释"></a>打开RegisteredActivity，里面一样有注释</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">package com.kizai.com.login;</span><br><span class="line"></span><br><span class="line">import androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line">import android.content.Intent;</span><br><span class="line">import android.content.pm.ActivityInfo;</span><br><span class="line">import android.os.Bundle;</span><br><span class="line">import android.text.TextUtils;</span><br><span class="line">import android.view.View;</span><br><span class="line">import android.widget.Button;</span><br><span class="line">import android.widget.EditText;</span><br><span class="line">import android.widget.ImageView;</span><br><span class="line">import android.widget.Toast;</span><br><span class="line"></span><br><span class="line">public class RegisteredActivity extends AppCompatActivity implements View.OnClickListener {</span><br><span class="line">    private EditText et_rgsName, et_rgsEmail, et_rgsPhoneNum, et_rgsPsw1, et_rgsPsw2;</span><br><span class="line">    private DBOpenHelper mDBOpenHelper;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) {</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR);//禁止横屏</span><br><span class="line">        setContentView(R.layout.activity_registered);</span><br><span class="line">        setTitle(<span class="string">"用户注册"</span>);//顶部标题改成用户注册</span><br><span class="line"></span><br><span class="line">        initView();//初始化界面</span><br><span class="line">        mDBOpenHelper = new DBOpenHelper(this);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private void <span class="function"><span class="title">initView</span></span>() {</span><br><span class="line">        et_rgsName = findViewById(R.id.et_rgsName);</span><br><span class="line">        et_rgsEmail = findViewById(R.id.et_rgsEmail);</span><br><span class="line">        et_rgsPhoneNum = findViewById(R.id.et_rgsPhoneNum);</span><br><span class="line">        et_rgsPsw1 = findViewById(R.id.et_rgsPsw1);</span><br><span class="line">        et_rgsPsw2 = findViewById(R.id.et_rgsPsw2);</span><br><span class="line"></span><br><span class="line">        Button btn_register = findViewById(R.id.btn_rgs);</span><br><span class="line">        ImageView iv_back = findViewById(R.id.iv_back);</span><br><span class="line">        /**</span><br><span class="line">         * 注册页面能点击的就三个地方</span><br><span class="line">         * top处返回箭头、刷新验证码图片、注册按钮</span><br><span class="line">         */</span><br><span class="line">        iv_back.setOnClickListener(this);</span><br><span class="line">        btn_register.setOnClickListener(this);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onClick(View v) {</span><br><span class="line">        switch (v.getId()) {</span><br><span class="line">            <span class="keyword">case</span> R.id.iv_back://返回登录界面</span><br><span class="line">                Intent intent = new Intent(RegisteredActivity.this, LoginActivity.class);</span><br><span class="line">                startActivity(intent);</span><br><span class="line">                finish();</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            <span class="keyword">case</span> R.id.btn_rgs://注册按钮</span><br><span class="line">                //获取用户输入的用户名、密码、验证码</span><br><span class="line">                String username = et_rgsName.getText().toString().trim();</span><br><span class="line">                String password1 = et_rgsPsw1.getText().toString().trim();</span><br><span class="line">                String password2 = et_rgsPsw2.getText().toString().trim();</span><br><span class="line">                String email = et_rgsEmail.getText().toString().trim();</span><br><span class="line">                String phonenum = et_rgsPhoneNum.getText().toString().trim();</span><br><span class="line">                //注册验证</span><br><span class="line">                <span class="keyword">if</span> (!TextUtils.isEmpty(username) &amp;&amp; !TextUtils.isEmpty(password1) &amp;&amp; !TextUtils.isEmpty(password2)) {</span><br><span class="line">                    //判断两次密码是否一致</span><br><span class="line">                    <span class="keyword">if</span> (password1.equals(password2)) {</span><br><span class="line">                        //将用户名和密码加入到数据库中</span><br><span class="line">                        mDBOpenHelper.add(username, password2, email, phonenum);</span><br><span class="line">                        Intent intent1 = new Intent(RegisteredActivity.this, LoginActivity.class);</span><br><span class="line">                        startActivity(intent1);</span><br><span class="line">                        finish();</span><br><span class="line">                        Toast.makeText(this, <span class="string">"验证通过，注册成功"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    } <span class="keyword">else</span> {</span><br><span class="line">                        Toast.makeText(this, <span class="string">"两次密码不一致,注册失败"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                    }</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    Toast.makeText(this, <span class="string">"注册信息不完善,注册失败"</span>, Toast.LENGTH_SHORT).show();</span><br><span class="line">                }</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="做到这里别以为完事了，还要设置打开应用第一个显示的界面"><a href="#做到这里别以为完事了，还要设置打开应用第一个显示的界面" class="headerlink" title="做到这里别以为完事了，还要设置打开应用第一个显示的界面"></a>做到这里别以为完事了，还要设置打开应用第一个显示的界面</h4><p><img src="https://img-blog.csdnimg.cn/20201021190043728.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201021190401425.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="抄到这里应该是运行能直接运行成功的，第一次要注册完才能登录。"><a href="#抄到这里应该是运行能直接运行成功的，第一次要注册完才能登录。" class="headerlink" title="抄到这里应该是运行能直接运行成功的，第一次要注册完才能登录。"></a>抄到这里应该是运行能直接运行成功的，第一次要注册完才能登录。</h2><p><img src="https://img-blog.csdnimg.cn/20201021194335421.gif#pic_center" alt="在这里插入图片描述"></p><h2 id="祝你好运！！！"><a href="#祝你好运！！！" class="headerlink" title="祝你好运！！！"></a>祝你好运！！！</h2>]]></content>
      
      
      
        <tags>
            
            <tag> Android,SQlite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BaiduVC</title>
      <link href="/2021/11/12/BaiduVC/"/>
      <url>/2021/11/12/BaiduVC/</url>
      
        <content type="html"><![CDATA[<h2 id="百度语音助手集成到Fragment里面怎么避坑？"><a href="#百度语音助手集成到Fragment里面怎么避坑？" class="headerlink" title="百度语音助手集成到Fragment里面怎么避坑？"></a>百度语音助手集成到Fragment里面怎么避坑？</h2><p>其实集成到Fragment才是比较实用的，但是没看到有相关详细的教程，所以本人尝试去挖这个坑看看能不能填上，终于终于还是搞出来了。<br>首先你还是要进行一些导包修改版本等相关的操作，不懂可以点下这个链接<a href="https://blog.csdn.net/qq_42001163/article/details/106520112">百度语音识别集成到HelloWorld</a>，这个步骤完成后，回到你要集成的Fragment里面，可以看下我的Fragment的布局：<br><img src="https://img-blog.csdnimg.cn/20200607171402953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">FrameLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">    <span class="attr">tools:context</span>=<span class="string">".VcFragment"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">RelativeLayout</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">tools:ignore</span>=<span class="string">"UselessParent"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ImageView</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:id</span>=<span class="string">"@+id/iv_vc"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_width</span>=<span class="string">"100dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_height</span>=<span class="string">"100dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_alignParentEnd</span>=<span class="string">"true"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_alignParentBottom</span>=<span class="string">"true"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_marginEnd</span>=<span class="string">"154dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_marginBottom</span>=<span class="string">"160dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:contentDescription</span>=<span class="string">"@string/to"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:src</span>=<span class="string">"@drawable/ic_mkf"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">TextView</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:id</span>=<span class="string">"@+id/tv_vcResult"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_alignParentTop</span>=<span class="string">"true"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_alignParentEnd</span>=<span class="string">"true"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_centerVertical</span>=<span class="string">"true"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_marginTop</span>=<span class="string">"163dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:layout_marginEnd</span>=<span class="string">"0dp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:text</span>=<span class="string">"@string/ress"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:textAlignment</span>=<span class="string">"center"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:textColor</span>=<span class="string">"@color/colorPrimary"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">android:textStyle</span>=<span class="string">"bold"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">FrameLayout</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure><p>逻辑代码如下：</p><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> android.Manifest;</span><br><span class="line"><span class="keyword">import</span> android.annotation.SuppressLint;</span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.usage.UsageEvents;</span><br><span class="line"><span class="keyword">import</span> android.content.pm.PackageManager;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> androidx.core.app.ActivityCompat;</span><br><span class="line"><span class="keyword">import</span> androidx.core.content.ContextCompat;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.Fragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Handler;</span><br><span class="line"><span class="keyword">import</span> android.os.Message;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.MotionEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baidu.aip.asrwakeup3.core.recog.MyRecognizer;</span><br><span class="line"><span class="keyword">import</span> com.baidu.aip.asrwakeup3.core.recog.listener.IRecogListener;</span><br><span class="line"><span class="keyword">import</span> com.baidu.aip.asrwakeup3.core.recog.listener.MessageStatusRecogListener;</span><br><span class="line"><span class="keyword">import</span> com.baidu.aip.asrwakeup3.core.recog.listener.StatusRecogListener;</span><br><span class="line"><span class="keyword">import</span> com.baidu.aip.asrwakeup3.core.util.FileUtil;</span><br><span class="line"><span class="keyword">import</span> com.baidu.speech.EventManager;</span><br><span class="line"><span class="keyword">import</span> com.baidu.speech.asr.SpeechConstant;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.json.JSONException;</span><br><span class="line"><span class="keyword">import</span> org.json.JSONObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A simple {<span class="doctag">@link</span> Fragment} subclass.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VcFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">VcFragment</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="comment">// Required empty public constructor</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TextView tv_vcResult;</span><br><span class="line">    <span class="comment">//    public EventManager asr;</span></span><br><span class="line">    <span class="keyword">protected</span> MyRecognizer myRecognizer;</span><br><span class="line">    <span class="keyword">protected</span> Handler handler;</span><br><span class="line">    <span class="keyword">protected</span> String resultTxt = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressLint({"ClickableViewAccessibility", "HandlerLeak"})</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(<span class="meta">@NonNull</span> LayoutInflater inflater,<span class="meta">@Nullable</span> ViewGroup container,</span></span></span><br><span class="line"><span class="params"><span class="function">                             <span class="meta">@Nullable</span> Bundle savedInstanceState)</span> </span>{</span><br><span class="line">        <span class="comment">// Inflate the layout for this fragment</span></span><br><span class="line">        inflater = LayoutInflater.from(getContext());</span><br><span class="line">        View myview = inflater.inflate(R.layout.fragment_vc, container, <span class="keyword">false</span>);</span><br><span class="line">        <span class="comment">//建立一个线程来处理信息</span></span><br><span class="line">        handler = <span class="keyword">new</span> Handler() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleMessage</span><span class="params">(Message msg)</span> </span>{</span><br><span class="line">                <span class="keyword">super</span>.handleMessage(msg);</span><br><span class="line">                handleMsg(msg);</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line">        tv_vcResult = myview.findViewById(R.id.tv_vcResult);</span><br><span class="line">        ImageView iv_vc = myview.findViewById(R.id.iv_vc);</span><br><span class="line">        iv_vc.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener() {</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View v, MotionEvent event)</span> </span>{</span><br><span class="line">                <span class="keyword">int</span> action = event.getAction();</span><br><span class="line">                <span class="keyword">if</span> (action == MotionEvent.ACTION_DOWN) {</span><br><span class="line">                    tv_vcResult.setText(<span class="string">"识别中..."</span>);</span><br><span class="line"><span class="comment">//                    Toast.makeText(getContext(), "正在识别....", Toast.LENGTH_SHORT).show();</span></span><br><span class="line">                    start();</span><br><span class="line">                } <span class="keyword">else</span> <span class="keyword">if</span> (action == MotionEvent.ACTION_UP) {</span><br><span class="line">                    stop();</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">        initSpeechRecog();</span><br><span class="line">        initPermission();</span><br><span class="line">        <span class="keyword">return</span> myview;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化语音识别</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initSpeechRecog</span><span class="params">()</span> </span>{</span><br><span class="line">        IRecogListener listener = <span class="keyword">new</span> MessageStatusRecogListener(handler);</span><br><span class="line">        <span class="keyword">if</span> (myRecognizer == <span class="keyword">null</span>) {</span><br><span class="line">            myRecognizer = <span class="keyword">new</span> MyRecognizer(<span class="keyword">this</span>.getContext(), listener);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//开始识别</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">final</span> Map&lt;String, Object&gt; params = <span class="keyword">new</span> LinkedHashMap&lt;String, Object&gt;();</span><br><span class="line">        params.put(SpeechConstant.ACCEPT_AUDIO_VOLUME, <span class="keyword">false</span>);</span><br><span class="line">        params.put(SpeechConstant.PID, <span class="number">1536</span>);<span class="comment">//普通话</span></span><br><span class="line">        myRecognizer.start(params);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//停止识别</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>{</span><br><span class="line">        myRecognizer.stop();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//回调事件处理</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handleMsg</span><span class="params">(Message msg)</span> </span>{</span><br><span class="line">        <span class="keyword">if</span> (msg.what == MessageStatusRecogListener.STATUS_FINISHED) {</span><br><span class="line"><span class="comment">//            String resultTxt = null;</span></span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                JSONObject msgObj = <span class="keyword">new</span> JSONObject(msg.obj.toString());</span><br><span class="line">                <span class="keyword">if</span> (msg.arg2 == <span class="number">1</span>) {</span><br><span class="line">                    String error = msgObj.getString(<span class="string">"error"</span>);</span><br><span class="line">                    System.out.println(<span class="string">"error =&gt;"</span> + error);</span><br><span class="line">                    <span class="keyword">if</span> (<span class="string">"0"</span>.equals(error)) {</span><br><span class="line">                        resultTxt = msgObj.getString(<span class="string">"best_result"</span>);</span><br><span class="line">                        tv_vcResult.setText(resultTxt);</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            } <span class="keyword">catch</span> (JSONException e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//释放资源</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDestroy</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">super</span>.onDestroy();</span><br><span class="line">        <span class="keyword">if</span> (myRecognizer != <span class="keyword">null</span>) {</span><br><span class="line">            myRecognizer.release();<span class="comment">//释放资源，不然程序会闪退</span></span><br><span class="line">            myRecognizer = <span class="keyword">null</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用权限</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initPermission</span><span class="params">()</span> </span>{</span><br><span class="line">        String[] permissions = {Manifest.permission.RECORD_AUDIO,</span><br><span class="line">                Manifest.permission.ACCESS_NETWORK_STATE,</span><br><span class="line">                Manifest.permission.INTERNET,</span><br><span class="line">                Manifest.permission.READ_PHONE_STATE,</span><br><span class="line">                Manifest.permission.WRITE_EXTERNAL_STORAGE,</span><br><span class="line">                Manifest.permission.MODIFY_AUDIO_SETTINGS,</span><br><span class="line">                Manifest.permission.ACCESS_WIFI_STATE,</span><br><span class="line">                Manifest.permission.CHANGE_WIFI_STATE</span><br><span class="line">        };</span><br><span class="line">        ArrayList&lt;String&gt; toApplyList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String perm : permissions) {</span><br><span class="line">            <span class="keyword">if</span> (PackageManager.PERMISSION_GRANTED != ContextCompat.checkSelfPermission(Objects.requireNonNull(getActivity()), perm)) {</span><br><span class="line">                toApplyList.add(perm);</span><br><span class="line">                <span class="comment">//进入这里代表没有权限</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        String[] tmplist = <span class="keyword">new</span> String[toApplyList.size()];</span><br><span class="line">        <span class="keyword">if</span> (!toApplyList.isEmpty()) {</span><br><span class="line">            ActivityCompat.requestPermissions(getActivity(), toApplyList.toArray(tmplist), <span class="number">123</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onRequestPermissionsResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="meta">@NonNull</span> String[] permissions, <span class="meta">@NonNull</span> <span class="keyword">int</span>[] grantResults)</span> </span>{</span><br><span class="line">        <span class="comment">// 此处为android 6.0以上动态授权的回调，用户自行实现。</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><p>然后你可以在自己的日志看到识别效果，但是你的TextView一点反应都没，怎么办呢？<br><img src="https://img-blog.csdnimg.cn/20200607172207808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>首先把Android改成Project,找到以下路径<br><img src="https://img-blog.csdnimg.cn/20200607172401906.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>修改两行代码就可以了，如下图所示：<br><img src="https://img-blog.csdnimg.cn/202006071724567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>效果可以看图<img src="https://img-blog.csdnimg.cn/20200607172851700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDAxMTYz,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Android,Baidu语音识别 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式匹配规则</title>
      <link href="/2021/11/08/RE/"/>
      <url>/2021/11/08/RE/</url>
      
        <content type="html"><![CDATA[<h2 id="基本正则表达式"><a href="#基本正则表达式" class="headerlink" title="基本正则表达式"></a>基本正则表达式</h2><center>BRE元字符表</center><div class="table-container"><table><thead><tr><th style="text-align:center">元字符</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td style="text-align:center">将*前面的正则表达式匹配的结果重复任意次(含0次)。</td></tr><tr><td style="text-align:center">+</td><td style="text-align:center">与星号(*)相同，只是至少重复1次，GNU的扩展功能。</td></tr><tr><td style="text-align:center">\?</td><td style="text-align:center">与星号(*)相同，只是最多重复1次，GNU的扩展功能。</td></tr><tr><td style="text-align:center">{i}</td><td style="text-align:center">与星号(*)相同，只是重复指定的i次。</td></tr><tr><td style="text-align:center">{i,j}</td><td style="text-align:center">与星号(*)相同，只是重复i至j次。</td></tr><tr><td style="text-align:center">{i, }</td><td style="text-align:center">与星号(*)相同，只是至少重复i次。</td></tr><tr><td style="text-align:center">(regexp)</td><td style="text-align:center">将regexp看作一个整体，用于后向引用，与\digit配合使用。</td></tr><tr><td style="text-align:center">.</td><td style="text-align:center">匹配任意单个字符。</td></tr><tr><td style="text-align:center">^</td><td style="text-align:center">表示行首,匹配模版空间开始处的NULL字符串。</td></tr><tr><td style="text-align:center">^abc</td><td style="text-align:center">匹配以 abc 开头的字符串</td></tr><tr><td style="text-align:center">$</td><td style="text-align:center">表示行尾,匹配的是模版空间结束处的NULL字符串。</td></tr><tr><td style="text-align:center">}$</td><td style="text-align:center">匹配以大括号结尾的字符串</td></tr><tr><td style="text-align:center">[list]</td><td style="text-align:center">匹配方括号中的字符列表中的任意一个。</td></tr><tr><td style="text-align:center"><sup><a href="#fn_list" id="reffn_list">list</a></sup></td><td style="text-align:center">否定匹配方括号中的字符列表中的任意一个。</td></tr><tr><td style="text-align:center">regexp1regexp2</td><td style="text-align:center">匹配regexp1和regexp2的连接结果。</td></tr><tr><td style="text-align:center">\digit</td><td style="text-align:center">匹配正则表达式前半部分定义的后向引用的第digit个子表达式。digit为1至9的数字, 1为从左开始。</td></tr><tr><td style="text-align:center">\n</td><td style="text-align:center">匹配换行符。</td></tr><tr><td style="text-align:center">\meta</td><td style="text-align:center">将元字符meta转换成普通字符，以便匹配该字符本身，有$、 *、 .、 [、  和 ^。</td></tr></tbody></table></div><center>字符匹配表</center><div class="table-container"><table><thead><tr><th style="text-align:center">表达式</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"> [a-z]</td><td style="text-align:center">表示<code>a-z</code>字符中的一个，也就是小写字母</td><td></td></tr><tr><td style="text-align:center"> [0-9]</td><td style="text-align:center">表示<code>0-9</code>字符中的一个，也就是数字</td><td></td></tr><tr><td style="text-align:center"> [A-Z]</td><td style="text-align:center">表示<code>A-Z</code>字符中的一个，也就是大写字母</td><td></td></tr><tr><td style="text-align:center"> [abc]</td><td style="text-align:center">表示字符<code>a</code>或字符<code>b</code>或字符<code>c</code></td><td></td></tr><tr><td style="text-align:center"> <sup><a href="#fn_0-9" id="reffn_0-9">0-9</a></sup></td><td style="text-align:center">表示非数字类型字符</td><td></td></tr></tbody></table></div><h2 id="拓展正则表达式"><a href="#拓展正则表达式" class="headerlink" title="拓展正则表达式"></a>拓展正则表达式</h2><p>扩展正则表达式除了以下元字符与基本正则表达式不同外，其余相似。</p><p align="left">BRE与ERE元字符对应表</p><div class="table-container"><table><thead><tr><th style="text-align:center">基本正则表达式</th><th style="text-align:center">扩展正则表达式</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>\?</code></td><td style="text-align:center">?</td><td style="text-align:center">表示前置字符有 0 个或 1 个；</td></tr><tr><td style="text-align:center"><code>\+</code></td><td style="text-align:center">+</td><td style="text-align:center">表示前置字符有 1 个或多个；</td></tr><tr><td style="text-align:center"><code>\</code></td><td style="text-align:center"><code>中竖线</code></td><td style="text-align:center">表示匹配其中的一项即可；</td></tr><tr><td style="text-align:center"><code>\{ \}</code></td><td style="text-align:center">{ }</td><td style="text-align:center">和基本正则中的大括号中意义相同，只不过使用时不用加 转义符号；</td></tr><tr><td style="text-align:center"><code>\( \)</code></td><td style="text-align:center">( )</td><td style="text-align:center">表示分组，(a\b)b 表示可以匹配 ab 或 bb 子串，且命令表达式中可以通过 \1、\2 来表示匹配的变量</td></tr></tbody></table></div><h2 id="常用转义字符"><a href="#常用转义字符" class="headerlink" title="常用转义字符"></a>常用转义字符</h2><center>转义字符表</center><div class="table-container"><table><thead><tr><th style="text-align:center">转义字符</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center">\a</td><td style="text-align:center">匹配一个BEL字符。</td></tr><tr><td style="text-align:center">\f</td><td style="text-align:center">匹配一个换页字符。</td></tr><tr><td style="text-align:center">\n</td><td style="text-align:center">匹配一个换行字符。</td></tr><tr><td style="text-align:center">\r</td><td style="text-align:center">匹配一个回车字符。</td></tr><tr><td style="text-align:center">\t</td><td style="text-align:center">匹配一个水平Tab字符。</td></tr><tr><td style="text-align:center">\v</td><td style="text-align:center">匹配一个垂直Tab字符。</td></tr><tr><td style="text-align:center">\cX</td><td style="text-align:center">匹配Control+X，X是任意字符。</td></tr><tr><td style="text-align:center">\dXXX</td><td style="text-align:center">匹配一个ASCII码是十进制XXX的字符。</td></tr><tr><td style="text-align:center">\oXXX</td><td style="text-align:center">匹配一个ASCII码是八进制XXX的字符。</td></tr><tr><td style="text-align:center">\xXX</td><td style="text-align:center">匹配一个ASCII码是十六进制XX的字符。</td></tr><tr><td style="text-align:center">\w</td><td style="text-align:center">匹配任意一个单词字符(字母、数字和下划线)。</td></tr><tr><td style="text-align:center">\W</td><td style="text-align:center">匹配任意一个非单词字符。</td></tr><tr><td style="text-align:center">\b</td><td style="text-align:center">匹配一个单词的边界符：字符的左边是一个单词字符，并且右边是一个非单词字符，反之亦然。</td></tr><tr><td style="text-align:center">\B</td><td style="text-align:center">匹配除单词边界符外所有字符：字符的左边和右边同时是单词字符或非单词字符。</td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> Linux,Shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux,Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux文件权限详解</title>
      <link href="/2021/11/08/Linux-File-Permissions/"/>
      <url>/2021/11/08/Linux-File-Permissions/</url>
      
        <content type="html"><![CDATA[<p>Linux是一个多用户操作系统，它以“所有权”和“权限”的概念来保​​证文件的安全。</p><h2 id="Users-用户-和groups（组）"><a href="#Users-用户-和groups（组）" class="headerlink" title="Users(用户)和groups（组）"></a><code>Users(用户)</code>和<code>groups（组）</code></h2><ul><li>Linux 使用用户的概念来区分使用计算机的各种人。</li><li>每个用户都有一些与之关联的属性，例如用户 ID 和主目录。</li><li>为了更轻松地管理用户，您可以将用户添加到“组”中。</li><li>一个组可以有零个或多个用户。特定用户与“默认组”相关联，也可以是系统上其他组的成员。</li><li>如果要查看系统上的用户，可以/etc/passwd 通过运行以下命令查看文件：<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ cat /etc/passwd</span><br></pre></td></tr></tbody></table></figure></li><li>在这里，每一行都包含用户的详细信息。具体来说，您可以在每一行的开头看到用户名，在第一行之前<code>:</code>。</li><li>同样，您可以<code>/etc/group</code>通过运行以下命令查看文件来查看系统上的组：<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ cat /etc/group</span><br></pre></td></tr></tbody></table></figure></li><li>同样，每一行都包含用户的详细信息。每行的第一部分包含组名。运行这些命令时，您会注意到还有许多其他用户和组不是您创建的。这些是系统用户和组，用于安全地运行后台进程。</li></ul><h2 id="Ownership（所有权）-和-permissions（权限）"><a href="#Ownership（所有权）-和-permissions（权限）" class="headerlink" title="Ownership（所有权） 和 permissions（权限）"></a><code>Ownership（所有权）</code> 和 <code>permissions（权限）</code></h2><p>在 Linux 中，我们使用权限来控制用户可以对文件或目录执行的操作。Linux 使用三种类型的权限：</p><ul><li><strong>读取（r）</strong>：对于文件，读取权限允许用户查看文件的内容。对于目录，读取权限允许用户查看存储在其中的文件和其他目录的名称。</li><li><strong>写 (w)</strong>：对于文件，写权限允许用户修改和删除文件。对于目录，写权限允许用户修改其内容（创建、删除和重命名其中的文件）。但是，除非同时启用了执行权限，否则此权限对目录没有影响。</li><li><strong>执行 (x)</strong>：当在文件上设置时，写权限允许它被执行。但是，除非还启用了读取权限，否则该权限对文件没有影响。另一方面，对于目录，写入权限允许用户进入目录（带有cd）并查看其中的文件和目录的元数据（如文件权限）。</li></ul><p>文件和目录只能由单个用户和单个组拥有。每当用户创建文件或目录时，该文件由用户和用户的默认组“拥有”。</p><p>对于任何文件或目录，都有三种类型的“权限类”。您可以为这些类分配不同的权限，从而控制谁可以访问和修改文件。权限类如下：</p><ul><li><strong>用户</strong>：此类中的权限会影响文件的所有者。</li><li><strong>组</strong>：此类中的权限影响拥有该文件的组。但是，如果所有者用户在该组中，则应用“用户”权限，而不是组权限。</li><li><strong>其他</strong>：此类中的权限会影响系统上的所有其他用户。</li></ul><h2 id="查看权限"><a href="#查看权限" class="headerlink" title="查看权限"></a>查看权限</h2><p>查看给定目录中文件权限的最简单方法是运行：<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ ls -l &lt;目标路径&gt;</span><br></pre></td></tr></tbody></table></figure><br>如果要查看当前目录中的权限，请在末尾省略目录名称：<p></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ ls -l</span><br></pre></td></tr></tbody></table></figure><p>例如，我们使用”目录”显示目录的内容。输出以列的形式显示，如下所示：<code>ls -l /etc</code></p><p><img src="https://www.booleanworld.com/wp-content/uploads/2018/04/permissions-annotated.png?ezimgfmt=ng:webp/ngcb20" alt="image"></p><p>由上图可知”文件模式”、”所有者”、”组”的具体信息。<br>而”文件模式”列以紧凑的方式显示文件类型和权限，如下所示：</p><p><img src="https://www.booleanworld.com/wp-content/uploads/2018/04/classes.png?ezimgfmt=ng:webp/ngcb20" alt="image"></p><ul><li>第一个字符表示文件的类型。一个正常的文件代表与一个<code>-</code>,目录与一个<code>d</code>和象征性的链接<code>l</code>。例如，在截图中<code>ls</code>，您可以说<code>acpi</code>这是一个目录，而<code>adduser.conf</code>是一个文件。</li><li>然后，我们拥有相应的”用户”、”组”和”其他”类的权限。<code>rwx</code>表示这些类是否具有读取、编写和执行权限。如果<code>rwx</code>中出现一个<code>-</code>，则意味着相应的权限被禁用了。</li><li>现在，思考下<code>at.deny</code>这个文件，它的”文件模式”是<code>-rw-r--r--</code>。这意味着”root”用户拥有读取、编写的权限。”root”组中的用户以及任何”其他”用户只拥有读取的权限。</li></ul><h3 id="表示权限：数字和符号模式"><a href="#表示权限：数字和符号模式" class="headerlink" title="表示权限：数字和符号模式"></a>表示权限：数字和符号模式</h3><p>上面的例子已经介绍如何使用<code>rwx</code>表示权限，这种方式叫做”符号模式”，但是，还有一种使用数字（称为”数字模式”）来表示权限的附加方式。</p><p>例如，请考虑上面讨论过的<code>acpi</code>目录。此目录的符号模式是<code>rwxr-xr-x</code> 。现在，为了获得等效的数字模式，可以采取”用户”、”组”和”其他”的单独权限。如果启用了权限，就放 <code>1``表示，如果禁用了，就放</code>0```表示。通过这样做，我们获得一个二进制号码，并将其转换为十进制。因此，对于目录，您可以获得如下所示的符号模式：</p><p><img src="https://www.booleanworld.com/wp-content/uploads/2018/04/43260_115.png?ezimgfmt=ng:webp/ngcb20" alt="image"></p><p>因此，这样获得的数字模式为<code>755</code>。同样，如果数字模式（如 <code>644</code>），您可以将其转换为二进制，每一个数字代表一组二进制，然后放入对应的字母<code>rwx</code>中,如结果为<code>1</code>就表示启用权限就要在对应的位置写上对应权限的字母，如果是<code>0</code>就表示禁用了权限，在对应位置写上<code>-</code>。可以参考下图的分析：</p><p><img src="https://www.booleanworld.com/wp-content/uploads/2018/04/sym2num1.png?ezimgfmt=ng:webp/ngcb20" alt="image"></p><p>因此，这样获得的符号模式为<code>rw-r--r--</code>,这就表示所有者有读写权限，而组用户和其他用户只要读权限。</p><h4 id="如果不熟悉转换二进制的方式解读权限，可以参考下图数字与权限的解读："><a href="#如果不熟悉转换二进制的方式解读权限，可以参考下图数字与权限的解读：" class="headerlink" title="如果不熟悉转换二进制的方式解读权限，可以参考下图数字与权限的解读："></a>如果不熟悉转换二进制的方式解读权限，可以参考下图数字与权限的解读：</h4><div class="table-container"><table><thead><tr><th style="text-align:center">二进制数</th><th style="text-align:center"><code>rwx</code></th><th style="text-align:center">权限描述</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center"><code>---</code></td><td style="text-align:center">无权限</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center"><code>--x</code></td><td style="text-align:center">执行</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center"><code>-w-</code></td><td style="text-align:center">写</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center"><code>-wx</code></td><td style="text-align:center">编写和执行</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center"><code>r--</code></td><td style="text-align:center">读</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center"><code>r-x</code></td><td style="text-align:center">阅读和执行</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center"><code>rw-</code></td><td style="text-align:center">读写</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center"><code>rwx</code></td><td style="text-align:center">阅读、编写和执行</td></tr></tbody></table></div><h3 id="更改权限：chmod命令"><a href="#更改权限：chmod命令" class="headerlink" title="更改权限：chmod命令"></a>更改权限：chmod命令</h3><p>创建文件或目录时，您可能需要更改某些权限。您可以通过<code>chmod</code>命令做到这一点。</p><p>首先，先创建一个用于测试目的的文件。<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ touch file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ touch file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rw-r--r-- 1 kizaiwsl2 kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><br>可以使用<code>ls -l file.txt</code>来查看该文件的权限，由结果可知该文件的权限是<code>rw-r--r--</code>。<p></p><p>现在，假设您要添加所有用户的执行权限 - 所有者、组和其他用户。由于我希望为所有用户添加执行权限，因此我使用<code>a+x</code>实现这个功能：<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod a+x file.txt</span><br></pre></td></tr></tbody></table></figure><p></p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">```bash</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ chmod a+x file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxr-xr-x 1 kizaiwsl2 kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>其实默认情况下<code>chmod</code>执行的对象是所有用户，你可以把<code>a</code>去掉，用下面的命令也同样能实现相同的功能。</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod +x file.txt</span><br></pre></td></tr></tbody></table></figure><p>chmod还可以更细致改变文件的权限，u、g、o这些字母分别表示“用户”、“组”、“其他用户”，同样它也能使用-去掉某一个权限，还是以file.txt的文件为例，我现在不想其他用户拥有读和执行的权限，组里面去掉读的权限，可以使用以下的命令：注意我使用,来分别对不同用户进行权限的操作。</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod o-rx,g-r file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ chmod o-rx,g-r file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwx--x--- 1 kizaiwsl2 kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>有时，我希望可以给设置的权限，而不是增加或删除权限。<code>chmod</code>命令是支持使用<code>=</code>来实现这个功能。<br>例如，我想把file.txt的文件设置为所有者的权限为<code>rwx</code>,组为<code>r--</code>,其他用户为<code>--x</code>。可以用下面的命令来实现。</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod u=rwx,g=r,o=x file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ chmod u=rwx,g=r,o=x file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxr----x 1 kizaiwsl2 kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>以上给文件赋权限都是采用符号的模式，现在开始介绍使用数字的模式来给文件赋值权限，这也是日后最常用的赋权限的主要方式。</p><p>如果我想把file.txt的权限修改为<code>rwxrw-r--</code>,那么它对应的数字权限应该为``764```,那么可以使用以下命令来修改：<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod 764 file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ chmod 764 file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxrw-r-- 1 kizaiwsl2 kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p></p><p>最后，如何你想设置一个文件夹的所有文件的权限可以使用<code>-R</code>来实现。<br>例如，你想添加执行权限在<code>test</code>文件夹的所有文件，可以使用：<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ chmod -R +x <span class="built_in">test</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>请记住你只能修改您拥有的文件的权限，而不能修改不是您的文件权限，如果你真的需要修改别人的文件权限的话，那么可以使用<code>sudo</code>来实现.<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo chmod &lt;文件权限&gt; &lt;文件路径/文件名&gt;</span><br></pre></td></tr></tbody></table></figure><p></p><h3 id="更改所有权：chown命令"><a href="#更改所有权：chown命令" class="headerlink" title="更改所有权：chown命令"></a>更改所有权：<code>chown</code>命令</h3><p>为了更改文件或目录的所有权，您可以使用<code>chown</code>命令。它可以更改所有者和所有者的组。(还有一个<code>chgrp</code>命令，它改变了拥有文件的组，但<code>chown</code>也可以这样做。)</p><p>假设，您有一个文件file.txt,您希望将所有权更改为用户，你可以运行以下命令：<br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo chown root file.txt</span><br></pre></td></tr></tbody></table></figure><br>不像<code>chmod</code>命令，第一次使用<code>chown</code>命令需要用到<code>roo</code>用户，后面再使用<code>chown</code>命令就不需要用<code>sudo</code>了。<p></p><p>可以查看执行后的结果;</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ sudo chown root file.txt</span><br><span class="line">[sudo] password <span class="keyword">for</span> kizaiwsl2:</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxrw-r-- 1 root kizaiwsl2 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>假设您想将所有者组更改为<code>daemon</code>。为此，提及以类似名称需要在前面加一个<code>:</code><br></p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo chown :daemon file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ sudo chown :daemon file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxrw-r-- 1 root daemon 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p></p><p>如果您想更改所有者用户以及所有者组，把file.txt文件的用户改成<code>kizaiwsl2</code>，用户组<code>root</code>，可以运行以下命令：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo chown kizaiwsl2:root file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ sudo chown kizaiwsl2:root file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxrw-r-- 1 kizaiwsl2 root 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>有时，您可能需要将所有者更改为特定用户及其默认组。虽然您可以手动找出用户的默认组，然后运行命令，<code>chown</code> 允许您通过排除：在末尾自动执行此操作。例如，如果您要将所有权更改为<code>root</code>及其默认组，请运行：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo chown root: file.txt</span><br><span class="line"></span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ sudo chown root: file.txt</span><br><span class="line">kizaiwsl2@KIZAI-DESKTOP:~$ ls -l file.txt</span><br><span class="line">-rwxrw-r-- 1 root root 0 9月  16 21:56 file.txt</span><br></pre></td></tr></tbody></table></figure><p>像<code>chmod</code>命令一样,<code>chown</code>也支持<code>-R</code>标志。<br>例如，如果您要更改所有文件的所有者用户以root用于test目录，请运行：<br></p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$ sudo chown -R root: test</span><br></pre></td></tr></tbody></table></figure><p></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Tmux常用命令</title>
      <link href="/2021/11/07/Tmux/"/>
      <url>/2021/11/07/Tmux/</url>
      
        <content type="html"><![CDATA[<p><img src="https://gitee.com/Kizai/blogimages/raw/master/img/202111080002059.png" alt="tmux"></p><h3 id="安装tmux"><a href="#安装tmux" class="headerlink" title="安装tmux"></a>安装tmux</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install tmux</span><br></pre></td></tr></tbody></table></figure><h3 id="启动或退出"><a href="#启动或退出" class="headerlink" title="启动或退出"></a>启动或退出</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 启动创建一个session</span></span><br><span class="line">$ tmux</span><br><span class="line"><span class="comment"># 退出</span></span><br><span class="line">$ <span class="built_in">exit</span> or crtl+d</span><br></pre></td></tr></tbody></table></figure><h3 id="前缀键"><a href="#前缀键" class="headerlink" title="前缀键"></a>前缀键</h3><ul><li><p>Tmux 窗口有大量的快捷键。所有快捷键都要通过前缀键唤起。默认的前缀键是<code>Ctrl+b</code>，即先按下<code>Ctrl+b</code>，快捷键才会生效。</p></li><li><p>举例来说，帮助命令的快捷键是<code>Ctrl+b ?</code>。它的用法是，在 Tmux 窗口中，先按下<code>Ctrl+b</code>，再按下<code>?</code>，就会显示帮助信息。</p></li><li><p>然后，按下 <code>ESC</code> 键或<code>q</code>键，就可以退出帮助。</p></li></ul><h3 id="新建会话"><a href="#新建会话" class="headerlink" title="新建会话"></a>新建会话</h3><ul><li>第一个启动的 Tmux 窗口，编号是0，第二个窗口的编号是1，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。</li><li>使用编号区分会话，不太直观，更好的方法是为会话起名。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 新建一个指定名称的会话。</span></span><br><span class="line">$ tmux new -s &lt;session-name&gt; </span><br></pre></td></tr></tbody></table></figure><h3 id="分离会话"><a href="#分离会话" class="headerlink" title="分离会话"></a>分离会话</h3></li><li>在 Tmux 窗口中，按下<code>Ctrl+b d</code>或者输入<code>tmux detach</code>命令，就会将当前会话与窗口分离。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ tmux detach</span><br></pre></td></tr></tbody></table></figure></li><li>上面命令执行后，就会退出当前 Tmux 窗口，但是会话和里面的进程仍然在后台运行。</li><li><code>tmux ls</code>可以查看当前所有的tmux会话。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ tmux ls</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ tmux list-session</span><br></pre></td></tr></tbody></table></figure><h3 id="接入会话"><a href="#接入会话" class="headerlink" title="接入会话"></a>接入会话</h3></li><li><code>tmux attach</code>命令用于重新接入某个已存在的会话。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 使用会话编号</span></span><br><span class="line">$ tmux attach -t 0</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ tmux a -t 0</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ tmux a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用会话名称</span></span><br><span class="line">$ tmux attach -t &lt;session-name&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="杀死会话"><a href="#杀死会话" class="headerlink" title="杀死会话"></a>杀死会话</h3></li><li><code>tmux kill-session</code>命令用于杀死某个会话。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 使用会话编号</span></span><br><span class="line">$ tmux kill-session -t 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用会话名称</span></span><br><span class="line">$ tmux kill-session -t &lt;session-name&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="切换会话"><a href="#切换会话" class="headerlink" title="切换会话"></a>切换会话</h3><code>tmux switch</code><br>命令用于切换会话。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 使用会话编号</span></span><br><span class="line">$ tmux switch -t 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用会话名称</span></span><br><span class="line">$ tmux switch -t &lt;session-name&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="重命名会话"><a href="#重命名会话" class="headerlink" title="重命名会话"></a>重命名会话</h3><code>tmux rename-session</code><br>命令用于重命名会话。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ tmux rename-session -t 0 &lt;new-name&gt;</span><br><span class="line"><span class="comment"># or 在session中使用"Ctrl+b $"也能对会话进行重命名</span></span><br></pre></td></tr></tbody></table></figure><h3 id="会话快捷键"><a href="#会话快捷键" class="headerlink" title="会话快捷键"></a>会话快捷键</h3></li><li>下面是一些会话相关的快捷键。<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">Ctrl+b d：<span class="comment"># 分离当前会话。</span></span><br><span class="line">Ctrl+b s：<span class="comment"># 列出所有会话。</span></span><br><span class="line">Ctrl+b $：<span class="comment"># 重命名当前会话。</span></span><br></pre></td></tr></tbody></table></figure><h3 id="最简操作流程"><a href="#最简操作流程" class="headerlink" title="最简操作流程"></a>最简操作流程</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">1. 新建会话tmux new -s my_session。</span><br><span class="line">2. 在 Tmux 窗口运行所需的程序。</span><br><span class="line">3. 按下快捷键Ctrl+b d将会话分离。</span><br><span class="line">4. 下次使用时，重新连接到会话tmux attach-session -t my_session。</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="窗格操作"><a href="#窗格操作" class="headerlink" title="窗格操作"></a>窗格操作</h3><ul><li>Tmux 可以将窗口分成多个窗格（pane），每个窗格运行不同的命令。以下命令都是在 Tmux 窗口中执行。</li><li><code>tmux split-window</code>命令用来划分窗格。<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 划分上下两个窗格</span><br><span class="line">$ tmux split-window </span><br><span class="line"># or 使用快捷键"Ctrl+d " "</span><br><span class="line"></span><br><span class="line"># 划分左右两个窗格</span><br><span class="line">$ tmux split-window -h</span><br><span class="line"># or 使用快捷键"Ctrl+d % "</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="窗格快捷键"><a href="#窗格快捷键" class="headerlink" title="窗格快捷键"></a>窗格快捷键</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* Ctrl+b %：划分左右两个窗格。</span><br><span class="line">* Ctrl+b "：划分上下两个窗格。</span><br><span class="line">* Ctrl+b &lt;arrow key&gt;：光标切换到其他窗格。&lt;arrow key&gt;是指向要切换到的窗格的方向键，比如切换到下方窗格，就按方向键↓。</span><br><span class="line">* Ctrl+b ;：光标切换到上一个窗格。</span><br><span class="line">* Ctrl+b o：光标切换到下一个窗格。</span><br><span class="line">* Ctrl+b {：当前窗格与上一个窗格交换位置。</span><br><span class="line">* Ctrl+b }：当前窗格与下一个窗格交换位置。</span><br><span class="line">* Ctrl+b Ctrl+o：所有窗格向前移动一个位置，第一个窗格变成最后一个窗格。</span><br><span class="line">* Ctrl+b Alt+o：所有窗格向后移动一个位置，最后一个窗格变成第一个窗格。</span><br><span class="line">* Ctrl+b x：关闭当前窗格。</span><br><span class="line">* Ctrl+b !：将当前窗格拆分为一个独立窗口。</span><br><span class="line">* Ctrl+b z：当前窗格全屏显示，再使用一次会变回原来大小。</span><br><span class="line">* Ctrl+b Ctrl+&lt;arrow key&gt;：按箭头方向调整窗格大小。</span><br><span class="line">* Ctrl+b q：显示窗格编号。</span><br></pre></td></tr></tbody></table></figure><h3 id="窗口快捷键"><a href="#窗口快捷键" class="headerlink" title="窗口快捷键"></a>窗口快捷键</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">* Ctrl+b c：创建一个新窗口，状态栏会显示多个窗口的信息。</span><br><span class="line">* Ctrl+b p：切换到上一个窗口（按照状态栏上的顺序）。</span><br><span class="line">* Ctrl+b n：切换到下一个窗口。</span><br><span class="line">* Ctrl+b &lt;number&gt;：切换到指定编号的窗口，其中的&lt;number&gt;是状态栏上的窗口编号。</span><br><span class="line">* Ctrl+b w：从列表中选择窗口。</span><br><span class="line">* Ctrl+b ,：窗口重命名。</span><br></pre></td></tr></tbody></table></figure><h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"># 列出所有快捷键，及其对应的 Tmux 命令</span><br><span class="line">$ tmux list-keys</span><br><span class="line"></span><br><span class="line"># 列出所有 Tmux 命令及其参数</span><br><span class="line">$ tmux list-commands</span><br><span class="line"></span><br><span class="line"># 列出当前所有 Tmux 会话的信息</span><br><span class="line">$ tmux info</span><br><span class="line"></span><br><span class="line"># 重新加载当前的 Tmux 配置</span><br><span class="line">$ tmux source-file ~/.tmux.conf</span><br></pre></td></tr></tbody></table></figure><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul><li><a href="https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/">A Quick and Easy Guide to tmux</a></li><li><a href="https://danielmiessler.com/study/tmux/">Tactical tmux: The 10 Most Important Commands</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux,Shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux,Shell </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
